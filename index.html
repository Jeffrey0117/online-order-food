<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç·šä¸Šé»é¤ç³»çµ± - ä½œå“é›†å±•ç¤º</title>
    <link rel="stylesheet" href="style.css">
    <!-- Bootstrap CSS CDN -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
<style>

.listProduct {
  display: flex;
  flex-direction: column;
  gap: 30px;
}

.category-section {
  margin-bottom: 30px;
}

.category-section h2 {
  font-size: 24px;
  margin-bottom: 10px;
}

.product-list {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
}



.product-list .item:hover {
  transform: scale(1.05);
}

.product-list .item img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  margin-bottom: 10px;
}


</style>
</head>
<body class="">
<nav id="top_menu1" class="navbar navbar-light bg-light sticky-top collapse d-md-block" style="padding-top: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-bottom: -7px; margin-left: 0px;">
	<div class="container-fluid" style="padding:7px;margin:0px; background: #FFFFFF">
		<div class="col-4 text-center">
			<div class="row align-items-center">
				<div class="col text-nowrap">
					<a href="#" onclick="showDemo('é–€å¸‚è³‡è¨Š')">
						<font style="color:#000000">
							é–€å¸‚è³‡è¨Š
						</font>
					</a>
				</div>
				<div class="col text-nowrap">
					<a href="#" onclick="showDemo('æœ€æ–°æ¶ˆæ¯')">
						<font style="color:#000000">
							æœ€æ–°æ¶ˆæ¯
						</font>
					</a>
				</div>
				<div class="col text-nowrap">
					<a href="#" onclick="showDemo('èœå–®')">
						<font style="color:#000000">
							èœå–®
						</font>
					</a>
				</div>
			</div>
  		</div>
		<div class="col-4 text-nowrap text-center">
			<h4 style="margin:0; padding:5px; color:#333;">æ»·å‘³é»é¤ç³»çµ±</h4>
		</div>
		<div class="col-2 text-center">
			<div class="row align-items-center">
				<div class="col text-nowrap">
					<a href="#" onclick="showDemo('è¨‚å–®')">
						<font style="color:#000000">
							è¨‚å–®
						</font>
					</a>
				</div>
			</div>
  		</div>
		<div class="col-2 text-center">
			<div class="row align-items-center">
                <div class="col text-nowrap">
                        <div class="icon-cart" style="position:fixed; cursor:pointer;margin-top: -15px;">
                            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 15a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0 0h8m-8 0-1-4m9 4a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-9-4h10l2-7H3m2 7L3 4m0 0-.792-3H1"></path>
                            </svg>
                        <span>0</span>
                    </div>
				</div>
			</div>
  		</div>



	</div>
</nav>

<div class="main-container">

    <div class="row" style="margin:0px;padding:0px;margin-top:0px;height:100%;background: #eeee;">


        <div id="left_menu" class="col-md-3" style="padding-right:25px;">
          
                            <div class="row">
                                <ul class="search-group">
                                    
                                    <li class="search-item">
                                        <div class="input-group">
                                            <input type="text" id="srh1" class="form-control" placeholder="æƒ³åƒé»ç”šéº¼?" onkeyup="performSearch(this.value)">
                                            <button class="btn btn-secondary" type="button" onclick="performSearch(document.getElementById('srh1').value)"><i class="fas fa-search"></i>ğŸ”</button>									
                                        </div>
                                    </li>
                                    


                                </ul>
                                
                            <details class="list-group-collapse" open>
                                 <summary class="list-group-toggle">ğŸ“‚ æ‘ºç–Šé¸å–®</summary>
                                                            
                                <ul class="list-group list-group-content">
                                    <li class="list-group-item tab_item2 text-nowrap tabdown2" value="E001" title="äººæ°£å•†å“">
                                        <div class="row mx-1">
                                            <div class="col-4 d-flex align-items-center justify-content-center">
                                                <img src="image/1.png" height="36">
                                            </div>	
                                            <div class="col-8 d-flex align-items-center">
                                                <div class="row">
                                                    <div class="col-12 fs-4">äººæ°£å•†å“</div>
                                                    <div class="col-12 fs-5">Popular Items</div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    
                                    <li class="list-group-item tab_item2 text-nowrap" value="E002" title="éº»è¾£é¡">
                                        <div class="row mx-1">
                                            <div class="col-4 d-flex align-items-center justify-content-center">
                                                <img src="image/2.png" height="36">
                                            </div>	
                                            <div class="col-8 d-flex align-items-center">
                                                <div class="row">
                                                    <div class="col-12 fs-4">éº»è¾£é¡</div>
                                                    <div class="col-12 fs-5">Spicy</div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    
                                    <li class="list-group-item tab_item2 text-nowrap" value="E003" title="éº»æ²¹é¡">
                                        <div class="row mx-1">
                                            <div class="col-4 d-flex align-items-center justify-content-center">
                                                <img src="image/3.png" height="36">
                                            </div>	
                                            <div class="col-8 d-flex align-items-center">
                                                <div class="row">
                                                    <div class="col-12 fs-4">éº»æ²¹é¡</div>
                                                    <div class="col-12 fs-5">Fresh Milk Tea</div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    
                                    <li class="list-group-item tab_item2 text-nowrap" value="E004" title="èœæ¹¯é¡">
                                        <div class="row mx-1">
                                            <div class="col-4 d-flex align-items-center justify-content-center">
                                                <img src="image/4.png" height="36">
                                            </div>	
                                            <div class="col-8 d-flex align-items-center">
                                                <div class="row">
                                                    <div class="col-12 fs-4">èœæ¹¯é¡</div>
                                                    <div class="col-12 fs-5">Milk Tea</div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    
                                    <li class="list-group-item tab_item2 text-nowrap" value="E005" title="å†°ç³–è€æ»·">
                                        <div class="row mx-1">
                                            <div class="col-4 d-flex align-items-center justify-content-center">
                                                <img src="image/5.png" height="36">
                                            </div>	
                                            <div class="col-8 d-flex align-items-center">
                                                <div class="row">
                                                    <div class="col-12 fs-4">å†°ç³–è€æ»·</div>
                                                    <div class="col-12 fs-5">Pure Tea</div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    

                                    
                                    <li class="list-group-item tab_item2 text-nowrap" value="0402" title="æ¶¼æ‹Œé¡">
                                        <div class="row mx-1">
                                            <div class="col-4 d-flex align-items-center justify-content-center">
                                                <img src="image/6.png" height="36">
                                            </div>	
                                            <div class="col-8 d-flex align-items-center">
                                                <div class="row">
                                                    <div class="col-12 fs-4">æ¶¼æ‹Œé¡</div>
                                                    <div class="col-12 fs-5">Steamed Dishes</div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    
                                
                                    


                                </ul>
                            </details>
                            </div>
                        </div>


        <!--  -->
        <div id="right_menu" class="col-md-9" style="padding:0px;height:100%;">
            <div class="listProduct"></div>
        </div>

        
</div>
  
        <div class="cartTab" >
        <h1>Shopping Cart</h1>
        <div class="listCart">
            <!-- è³¼ç‰©è»Šå•†å“å°‡åœ¨é€™è£¡ç”Ÿæˆ -->
        </div>
        <div class="btn">
            <button class="close">CLOSE</button>
            <button class="checkOut">Check Out</button>
        </div>
        </div>
<!--  -->
        <!-- è¨‚å–®ç¢ºèª Modal -->
<div id="orderModal" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:1000;">
  <div style="width:80%;max-width:500px;margin:100px auto;background:white;padding:20px;border-radius:10px;">
    <h2>è¨‚å–®ç¢ºèª</h2>
    
    <!-- è¨‚å–®å…§å®¹æ‘˜è¦ -->
    <div id="orderSummary" style="margin:15px 0;border:1px solid #eee;padding:10px;"></div>
    
    <!-- å®¢æˆ¶è³‡æ–™è¼¸å…¥ -->
    <div style="margin:15px 0;">
      <input type="text" id="customerName" placeholder="æ‚¨çš„å§“å" style="width:100%;padding:8px;margin:5px 0;">
      <input type="text" id="phoneLast3" placeholder="æ‰‹æ©Ÿæœ«ä¸‰ç¢¼" maxlength="3" 
             style="width:100%;padding:8px;margin:5px 0;" 
             oninput="this.value=this.value.replace(/[^0-9]/g,'')">
    </div>
    
    <!-- æ“ä½œæŒ‰éˆ• -->
    <div style="text-align:right;">
      <button id="cancelOrder" style="padding:8px 15px;margin-right:10px;">å–æ¶ˆ</button>
      <button id="confirmOrder" style="padding:8px 15px;background:#4285F4;color:white;border:none;">ç¢ºèªè¨‚å–®</button>
    </div>
  </div>
</div>
<!-- Bootstrap Bundle with Popper (JS) CDN -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    <script src="app.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
 


<script>

// Demo åŠŸèƒ½èªªæ˜å‡½æ•¸
function showDemo(section) {
  const messages = {
    'é–€å¸‚è³‡è¨Š': 'ğŸ“ é–€å¸‚è³‡è¨ŠåŠŸèƒ½\n\né€™å€‹é é¢é€šå¸¸æœƒé¡¯ç¤ºï¼š\nâ€¢ å„é–€å¸‚åœ°å€å’Œé›»è©±\nâ€¢ ç‡Ÿæ¥­æ™‚é–“\nâ€¢ äº¤é€šæŒ‡å¼•\nâ€¢ Google Maps åœ°åœ–\n\né€™æ˜¯ä½œå“é›†å±•ç¤ºç”¨çš„ Demo é é¢',
    'æœ€æ–°æ¶ˆæ¯': 'ğŸ“¢ æœ€æ–°æ¶ˆæ¯åŠŸèƒ½\n\né€™å€‹é é¢é€šå¸¸æœƒé¡¯ç¤ºï¼š\nâ€¢ æœ€æ–°å„ªæƒ æ´»å‹•\nâ€¢ æ–°å“ä¸Šå¸‚æ¶ˆæ¯\nâ€¢ ç‡Ÿæ¥­æ™‚é–“ç•°å‹•é€šçŸ¥\nâ€¢ ç¯€æ…¶ç‰¹åˆ¥æ´»å‹•\n\né€™æ˜¯ä½œå“é›†å±•ç¤ºç”¨çš„ Demo é é¢',
    'èœå–®': 'ğŸ“‹ èœå–®åŠŸèƒ½\n\nç›®å‰æ‚¨æ­£åœ¨ç€è¦½çš„å°±æ˜¯èœå–®é é¢ï¼\nåŠŸèƒ½åŒ…å«ï¼š\nâ€¢ å•†å“åˆ†é¡ç€è¦½\nâ€¢ åŠ å…¥è³¼ç‰©è»Š\nâ€¢ è³¼ç‰©è»Šç®¡ç†\nâ€¢ ç·šä¸Šè¨‚è³¼\n\né€™æ˜¯å®Œæ•´åŠŸèƒ½çš„å±•ç¤ºé é¢',
    'è¨‚å–®': 'ğŸ“ è¨‚å–®ç®¡ç†åŠŸèƒ½\n\né€™å€‹é é¢é€šå¸¸æœƒé¡¯ç¤ºï¼š\nâ€¢ æ­·å²è¨‚å–®æŸ¥è©¢\nâ€¢ è¨‚å–®ç‹€æ…‹è¿½è¹¤\nâ€¢ è¨‚å–®è©³ç´°å…§å®¹\nâ€¢ é‡æ–°è¨‚è³¼åŠŸèƒ½\n\né€™æ˜¯ä½œå“é›†å±•ç¤ºç”¨çš„ Demo é é¢'
  };
  
  alert(messages[section] || 'æ­¤åŠŸèƒ½ç‚ºå±•ç¤ºç”¨é€”');
}

// æœå°‹åŠŸèƒ½
function performSearch(searchTerm) {
  const searchValue = searchTerm.trim().toLowerCase();
  
  // å¦‚æœæœå°‹æ¬„ç‚ºç©ºï¼Œé¡¯ç¤ºæ‰€æœ‰å•†å“
  if (searchValue === '') {
    showAllProducts();
    return;
  }
  
  // å¾ç”¢å“æ¸…å–®ä¸­æœå°‹
  const allProducts = document.querySelectorAll('.listProduct .category-section');
  let hasResults = false;
  
  allProducts.forEach(categorySection => {
    const categoryName = categorySection.querySelector('h2').textContent.toLowerCase();
    const products = categorySection.querySelectorAll('.item');
    let categoryHasMatch = false;
    
    // æª¢æŸ¥åˆ†é¡åç¨±æ˜¯å¦åŒ¹é…
    if (categoryName.includes(searchValue)) {
      categorySection.style.display = 'block';
      products.forEach(product => product.style.display = 'block');
      categoryHasMatch = true;
      hasResults = true;
    } else {
      // æª¢æŸ¥è©²åˆ†é¡ä¸‹çš„å•†å“åç¨±
      products.forEach(product => {
        const productName = product.querySelector('h3').textContent.toLowerCase();
        if (productName.includes(searchValue)) {
          product.style.display = 'block';
          categoryHasMatch = true;
          hasResults = true;
        } else {
          product.style.display = 'none';
        }
      });
    }
    
    // å¦‚æœè©²åˆ†é¡æœ‰åŒ¹é…é …ç›®ï¼Œé¡¯ç¤ºåˆ†é¡
    if (categoryHasMatch) {
      categorySection.style.display = 'block';
    } else {
      categorySection.style.display = 'none';
    }
  });
  
  // å¦‚æœæ²’æœ‰æœå°‹çµæœï¼Œé¡¯ç¤ºæç¤º
  if (!hasResults) {
    showNoResults(searchValue);
  }
}

// é¡¯ç¤ºæ‰€æœ‰å•†å“
function showAllProducts() {
  const allProducts = document.querySelectorAll('.listProduct .category-section');
  allProducts.forEach(categorySection => {
    categorySection.style.display = 'block';
    const products = categorySection.querySelectorAll('.item');
    products.forEach(product => product.style.display = 'block');
  });
  
  // ç§»é™¤ç„¡çµæœæç¤º
  const noResultsDiv = document.querySelector('.no-results');
  if (noResultsDiv) {
    noResultsDiv.remove();
  }
}

// é¡¯ç¤ºç„¡æœå°‹çµæœ
function showNoResults(searchTerm) {
  const listProduct = document.querySelector('.listProduct');
  
  // å…ˆç§»é™¤ä¹‹å‰çš„ç„¡çµæœæç¤º
  const existingNoResults = document.querySelector('.no-results');
  if (existingNoResults) {
    existingNoResults.remove();
  }
  
  // éš±è—æ‰€æœ‰å•†å“
  const allProducts = document.querySelectorAll('.listProduct .category-section');
  allProducts.forEach(categorySection => {
    categorySection.style.display = 'none';
  });
  
  // æ·»åŠ ç„¡çµæœæç¤º
  const noResultsDiv = document.createElement('div');
  noResultsDiv.className = 'no-results';
  noResultsDiv.style.cssText = 'text-align: center; padding: 50px; color: #666;';
  noResultsDiv.innerHTML = `
    <h3>æ‰¾ä¸åˆ°ç›¸é—œå•†å“</h3>
    <p>æœå°‹ã€Œ${searchTerm}ã€æ²’æœ‰æ‰¾åˆ°åŒ¹é…çš„å•†å“</p>
    <button onclick="clearSearch()" style="padding: 8px 16px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">
      æ¸…é™¤æœå°‹
    </button>
  `;
  
  listProduct.appendChild(noResultsDiv);
}

// æ¸…é™¤æœå°‹
function clearSearch() {
  document.getElementById('srh1').value = '';
  showAllProducts();
}


// é¡¯ç¤ºè¨‚å–® Modal
function showOrderModal(items) {
  // 1. å»ºç«‹è¨‚å–®æ‘˜è¦ HTML
  let summaryHTML = '<h3>è¨‚å–®å…§å®¹ï¼š</h3><ul>';
  let total = 0;
  
  items.forEach(item => {
    const subtotal = item.price * item.quantity;
    total += subtotal;
    summaryHTML += `
      <li>
        ${item.name} Ã— ${item.quantity} = 
        $${subtotal.toLocaleString()}
      </li>
    `;
  });
  
  summaryHTML += `</ul><strong>ç¸½é‡‘é¡ï¼š$${total.toLocaleString()}</strong>`;
  
  // 2. å¡«å…¥å…§å®¹ä¸¦é¡¯ç¤º Modal
  document.getElementById('orderSummary').innerHTML = summaryHTML;
  document.getElementById('orderModal').style.display = 'block';
  
  // 3. ç¶å®šç¢ºèªæŒ‰éˆ•äº‹ä»¶ (ä¸€æ¬¡æ€§ç¶å®š)
  const confirmBtn = document.getElementById('confirmOrder');
  const cancelBtn = document.getElementById('cancelOrder');
  
  confirmBtn.onclick = function() {
    submitOrder(items);
  };
  
  cancelBtn.onclick = function() {
    document.getElementById('orderModal').style.display = 'none';
  };
}

// æäº¤è¨‚å–®åˆ° Google Sheets
function submitOrder(items) {
  const name = document.getElementById('customerName').value.trim();
  const phone = document.getElementById('phoneLast3').value;
  
  // ç°¡å–®é©—è­‰
  if (!name || phone.length !== 3) {
    alert('è«‹å¡«å¯«å®Œæ•´è³‡è¨Š\nå§“åç‚ºå¿…å¡«\næ‰‹æ©Ÿæœ«ä¸‰ç¢¼éœ€ç‚º3ä½æ•¸å­—');
    return;
  }

  // åŠ å…¥å®¢æˆ¶è³‡è¨Šåˆ°è¨‚å–®æ•¸æ“š
  const orderData = {
    customer: name,
    phoneLast3: phone,
    items: items,
    timestamp: new Date(),
  };
  
  // éš±è— Modal
  document.getElementById('orderModal').style.display = 'none';
  
  // é¡¯ç¤ºè¼‰å…¥ä¸­
  alert('è¨‚å–®è™•ç†ä¸­...');
  
  // ç™¼é€åˆ° Google Apps Script
  $.ajax({
    url: 'https://script.google.com/macros/s/AKfycbxZZIDLX7wFKBK2FXT5DMrToMbEbBfQSUkj2LoDnXJIMgUfqHIAm1FsXErjh0YdG6xSGg/exec',
    method: 'POST',
    dataType: 'jsonp',
    contentType: 'application/json',
    data: orderData
  }).done(function(response) {
  console.log("æˆåŠŸï¼š", response);
  clearCart();
  alert('è¨‚å–®å·²ç¶“æˆåŠŸé€å‡º!!')
})
.fail(function(xhr, status, error) {
  console.error("ç™¼ç”ŸéŒ¯èª¤ï¼š", error);
});

body.classList.toggle('showCart');
}



// çµå¸³æŒ‰éˆ•é»æ“Šäº‹ä»¶
document.querySelector('.checkOut').addEventListener('click', function() {
  // æ”¶é›†è³¼ç‰©è»Šå•†å“
  const cartItems = document.querySelectorAll('.listCart .item');
  const itemsData = [];
  
  cartItems.forEach(item => {
    itemsData.push({
      name: item.querySelector('.name').textContent.trim(),
      price: parseFloat(item.querySelector('.totalPrice').textContent.replace(/[^\d.]/g, '')),
      quantity: parseInt(item.querySelector('.quantity span:nth-child(2)').textContent, 10)
    });
  });
  
  // é¡¯ç¤ºç¢ºèª Modal
  showOrderModal(itemsData);
});

// ç¢ºä¿æ‘ºç–Šé¸å–®åœ¨æ¡Œé¢ç‰ˆä¿æŒå±•é–‹
function handleResponsiveMenu() {
  const detailsElement = document.querySelector('.list-group-collapse');
  if (window.innerWidth >= 768) {
    detailsElement.setAttribute('open', 'true'); // æ¡Œé¢ç‰ˆå¼·åˆ¶å±•é–‹
  } else {
    detailsElement.removeAttribute('open'); // æ‰‹æ©Ÿç‰ˆä¿æŒæ‘ºç–Š
  }
}

// åœ¨é é¢è¼‰å…¥æ™‚åŸ·è¡Œ
handleResponsiveMenu();

// åœ¨è¦–çª—å¤§å°è®ŠåŒ–æ™‚åŸ·è¡Œ
window.addEventListener('resize', handleResponsiveMenu);
</script>
</body>
</html>